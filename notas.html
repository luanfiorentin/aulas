<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Notas</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38898840-3', 'auto');
  ga('send', 'pageview');

</script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script src="libs/navigation-1.1/codefolding.js"></script>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>





<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CE003</a>
      <!-- <a class="navbar-brand" href="#"> -->
      <!--   <img alt="LEG" src="img/leg.png"> -->
      <!-- </a> -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Informações</a></li>
        <li><a href="aulas.html">Aulas</a></li>
        <li><a href="referencias.html">Referências</a></li>
        <li><a href="recursos.html">Programas</a></li>
        <li class="dropdown">
          <a href="authoring" class="dropdown-toggle"
          data-toggle="dropdown" role="button"
          aria-expanded="false">Materiais <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Introdução</li>
             <li><a href="01_introducao_e_amostragem/01_Introducao_a_Estatistica_e_amostragem.pdf">Introducao
             à Estatistica e amostragem [PDF]</a></li>
             <!-- <li class="divider"></li> -->
             <li class="dropdown-header">Estatística Descritiva</li>
             <li><a href="02_Analise_Exploratoria_de_Dados.html">Análise
                 Exploratória de dados</a></li>
             <li><a href="03_Medidas_resumo/03_Medidas_resumo.pdf">Medidas
                 resumo [PDF]</a></li>
             <li class="dropdown-header">Probabilidade</li>
             <li><a href="04_Probabilidade/04_Probabilidade.pdf">Probabilidade [PDF]</a></li>
             <li><a href="05_Variaveis_aleatorias/05_Variaveis_Aleatorias.pdf">Variáveis
             aleatórias e distribuições de probabilidade [PDF]</a></li>
             <li class="dropdown-header">Inferência Estatística</li>
             <li><a href="06_Estimacao_pontual/06_Estimacao_pontual.pdf">Estimação
                 pontual e distribuições amostrais [PDF]</a></li>
             <li><a href="07_Estimacao_intervalar/07_Estimacao_intervalar.pdf">Estimação
                 intervalar e tamanho da amostra [PDF]</a></li>
             <li><a href="08_Teste_de_hipotese/08_Teste_de_hipotese.pdf">Teste
             de hipótese para uma população [PDF]</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Outros materiais</li>
             <li><a href="misc/tabelasEST.pdf">Tabelas estatísticas
                 [PDF]</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Exercícios</li>
             <li><a href="exercicios/01_Amostragem_e_Exploratoria.pdf">Amostragem e análise
                 exploratória de dados [PDF]</a></li>
             <li><a href="exercicios/03_Medidas_resumo.pdf">Medidas
                 resumo [PDF]</a></li>
             <li><a href="exercicios/04_Probabilidade.pdf">Probabilidade [PDF]</a></li>
          </ul>
        </li>
      </ul>
      <div class="navbar-collapse collapse navbar-right" >
        <ul class="nav navbar-nav">
          <li><a class="btn btn-link" href="https://github.com/fernandomayer/ce003fmi-2016-01" role="button">
              <i class="fa fa-github"></i> GitHub </a>
          </li>
        </ul>
      </div><!--/.navbar-right -->
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Notas</h1>

</div>


<div id="histograma-e-box-plot-geral" class="section level2">
<h2>Histograma e box plot geral</h2>
<pre class="r"><code>## Grafico geral das notas
breaks &lt;- 0:10
## table(cut(notas$S1, breaks = breaks,
##           right = FALSE, include.lowest = TRUE))
## Junta notas de todas as sabatinas em um único vetor
notas.all &lt;- do.call(c, notas[, notas.col])
hist(notas.all, breaks = breaks, right = FALSE, include.lowest = TRUE,
     main = &quot;Notas gerais&quot;, xlab = &quot;Notas&quot;, ylab = &quot;Frequência absoluta&quot;)
boxplot(notas.all, horizontal = TRUE, ylim = c(0, 10),
        col = &quot;lightgray&quot;, add = TRUE)</code></pre>
<p><img src="figures/unnamed-chunk-2-1.png" width="640" style="display: block; margin: auto;" /></p>
<p>Resumo dos cinco números, média, desvio-padrão, e número de provas não realizadas (NA):</p>
<pre class="r"><code>statm &lt;- function(x){
    res &lt;- c(fivenum(x),
             mean(x, na.rm = TRUE),
             sd(x, na.rm = TRUE),
             sum(is.na(x)))
    names(res) &lt;- c(&quot;Min&quot;, &quot;Q1&quot;, &quot;Q2&quot;, &quot;Q3&quot;, &quot;Max&quot;, &quot;Média&quot;, &quot;s&quot;, &quot;NAs&quot;)
    return(res)
}
round(statm(notas.all), 2)</code></pre>
<pre><code>  Min    Q1    Q2    Q3   Max Média     s   NAs 
 0.00  5.60  8.00  9.10 10.00  7.30  2.43 27.00 </code></pre>
</div>
<div id="resumos-por-prova" class="section level2">
<h2>Resumos por prova</h2>
<p>Box plot de cada prova</p>
<pre class="r"><code>## Boxplots comparando as notas entre sabatinas
boxplot(notas[, notas.col], ylim = c(0, 10), ylab = &quot;Notas&quot;)</code></pre>
<p><img src="figures/unnamed-chunk-4-1.png" width="640" style="display: block; margin: auto;" /></p>
<p>Resumo dos cinco números, média, desvio-padrão, e número de provas não realizadas (NA):</p>
<pre class="r"><code>round(apply(notas[, notas.col], 2, statm), 2)</code></pre>
<pre><code>         S1    S2    S3   S4    S5   S6
Min    4.50  2.50  1.80 0.50  1.00  0.0
Q1     8.50  5.90  5.75 3.50  7.00  6.3
Q2     9.00  8.10  8.20 5.00  8.50  7.5
Q3     9.50  9.80  9.90 7.50  9.65  8.5
Max   10.00 10.00 10.00 9.50 10.00 10.0
Média  8.74  7.44  7.70 5.19  7.69  7.0
s      1.21  2.39  2.20 2.41  2.41  2.3
NAs    3.00  3.00  4.00 3.00  4.00 10.0</code></pre>
</div>
<div id="notas-individuais" class="section level2">
<h2>Notas individuais</h2>
<p><strong>Aqui estão apenas as notas individuais de cada sabatina. Veja na seção abaixo as médias finais calculadas!</strong></p>
<pre class="r"><code>kable(notas[, c(1, notas.col)], align = &quot;c&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="center">Matricula</th>
<th align="center">S1</th>
<th align="center">S2</th>
<th align="center">S3</th>
<th align="center">S4</th>
<th align="center">S5</th>
<th align="center">S6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">20124646</td>
<td align="center">6.0</td>
<td align="center">5.9</td>
<td align="center">1.8</td>
<td align="center">4.0</td>
<td align="center">7.0</td>
<td align="center">8.5</td>
</tr>
<tr class="even">
<td align="center">20124652</td>
<td align="center">NA</td>
<td align="center">5.3</td>
<td align="center">2.9</td>
<td align="center">0.5</td>
<td align="center">7.0</td>
<td align="center">4.0</td>
</tr>
<tr class="odd">
<td align="center">20136720</td>
<td align="center">9.5</td>
<td align="center">9.8</td>
<td align="center">9.9</td>
<td align="center">5.0</td>
<td align="center">9.0</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">20149073</td>
<td align="center">8.0</td>
<td align="center">7.0</td>
<td align="center">8.0</td>
<td align="center">3.0</td>
<td align="center">8.0</td>
<td align="center">7.5</td>
</tr>
<tr class="odd">
<td align="center">20149110</td>
<td align="center">7.3</td>
<td align="center">8.1</td>
<td align="center">7.0</td>
<td align="center">5.5</td>
<td align="center">7.0</td>
<td align="center">6.6</td>
</tr>
<tr class="even">
<td align="center">20149145</td>
<td align="center">7.5</td>
<td align="center">2.5</td>
<td align="center">5.3</td>
<td align="center">5.5</td>
<td align="center">9.0</td>
<td align="center">7.5</td>
</tr>
<tr class="odd">
<td align="center">20150149</td>
<td align="center">4.5</td>
<td align="center">2.5</td>
<td align="center">6.7</td>
<td align="center">0.5</td>
<td align="center">6.0</td>
<td align="center">7.5</td>
</tr>
<tr class="even">
<td align="center">20150417</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">8.0</td>
<td align="center">10.0</td>
<td align="center">7.6</td>
</tr>
<tr class="odd">
<td align="center">20150452</td>
<td align="center">8.7</td>
<td align="center">3.0</td>
<td align="center">5.5</td>
<td align="center">5.0</td>
<td align="center">9.0</td>
<td align="center">5.6</td>
</tr>
<tr class="even">
<td align="center">20150470</td>
<td align="center">8.5</td>
<td align="center">6.0</td>
<td align="center">6.0</td>
<td align="center">3.0</td>
<td align="center">1.0</td>
<td align="center">0.0</td>
</tr>
<tr class="odd">
<td align="center">20150836</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">8.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
</tr>
<tr class="even">
<td align="center">20150978</td>
<td align="center">9.8</td>
<td align="center">9.8</td>
<td align="center">10.0</td>
<td align="center">7.5</td>
<td align="center">10.0</td>
<td align="center">9.0</td>
</tr>
<tr class="odd">
<td align="center">20151292</td>
<td align="center">9.5</td>
<td align="center">7.0</td>
<td align="center">8.9</td>
<td align="center">1.5</td>
<td align="center">6.0</td>
<td align="center">5.0</td>
</tr>
<tr class="even">
<td align="center">20151516</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
<td align="center">9.9</td>
<td align="center">5.0</td>
<td align="center">9.5</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">20152147</td>
<td align="center">7.5</td>
<td align="center">6.5</td>
<td align="center">5.3</td>
<td align="center">4.5</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
</tr>
<tr class="even">
<td align="center">20152591</td>
<td align="center">9.0</td>
<td align="center">9.5</td>
<td align="center">8.4</td>
<td align="center">7.5</td>
<td align="center">10.0</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">20152736</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">20152967</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">20152988</td>
<td align="center">8.5</td>
<td align="center">9.8</td>
<td align="center">7.0</td>
<td align="center">7.5</td>
<td align="center">10.0</td>
<td align="center">7.5</td>
</tr>
<tr class="even">
<td align="center">20153016</td>
<td align="center">9.8</td>
<td align="center">10.0</td>
<td align="center">NA</td>
<td align="center">8.5</td>
<td align="center">10.0</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">20153599</td>
<td align="center">9.5</td>
<td align="center">4.8</td>
<td align="center">5.0</td>
<td align="center">3.5</td>
<td align="center">NA</td>
<td align="center">8.1</td>
</tr>
<tr class="even">
<td align="center">20153646</td>
<td align="center">10.0</td>
<td align="center">6.8</td>
<td align="center">7.3</td>
<td align="center">4.8</td>
<td align="center">9.8</td>
<td align="center">6.5</td>
</tr>
<tr class="odd">
<td align="center">20154101</td>
<td align="center">9.7</td>
<td align="center">9.5</td>
<td align="center">10.0</td>
<td align="center">7.0</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
</tr>
<tr class="even">
<td align="center">20154112</td>
<td align="center">8.5</td>
<td align="center">4.0</td>
<td align="center">7.5</td>
<td align="center">3.5</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
</tr>
<tr class="odd">
<td align="center">20154179</td>
<td align="center">9.5</td>
<td align="center">9.5</td>
<td align="center">9.9</td>
<td align="center">7.0</td>
<td align="center">9.0</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">20154443</td>
<td align="center">10.0</td>
<td align="center">8.0</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">8.0</td>
<td align="center">9.5</td>
</tr>
<tr class="odd">
<td align="center">20154966</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">10.0</td>
<td align="center">9.5</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
</tr>
<tr class="even">
<td align="center">20155156</td>
<td align="center">6.0</td>
<td align="center">5.5</td>
<td align="center">8.9</td>
<td align="center">5.0</td>
<td align="center">2.0</td>
<td align="center">9.1</td>
</tr>
<tr class="odd">
<td align="center">20155208</td>
<td align="center">9.0</td>
<td align="center">3.5</td>
<td align="center">9.0</td>
<td align="center">2.5</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
</tr>
<tr class="even">
<td align="center">20156753</td>
<td align="center">9.8</td>
<td align="center">9.8</td>
<td align="center">8.5</td>
<td align="center">8.0</td>
<td align="center">10.0</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">20157092</td>
<td align="center">9.0</td>
<td align="center">9.1</td>
<td align="center">5.0</td>
<td align="center">3.0</td>
<td align="center">7.0</td>
<td align="center">9.1</td>
</tr>
<tr class="even">
<td align="center">20157880</td>
<td align="center">9.5</td>
<td align="center">5.0</td>
<td align="center">9.8</td>
<td align="center">5.0</td>
<td align="center">2.0</td>
<td align="center">8.2</td>
</tr>
<tr class="odd">
<td align="center">20158399</td>
<td align="center">9.0</td>
<td align="center">6.8</td>
<td align="center">9.0</td>
<td align="center">3.5</td>
<td align="center">4.5</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">20159053</td>
<td align="center">9.0</td>
<td align="center">8.6</td>
<td align="center">5.4</td>
<td align="center">5.5</td>
<td align="center">9.0</td>
<td align="center">3.0</td>
</tr>
<tr class="odd">
<td align="center">20159109</td>
<td align="center">9.5</td>
<td align="center">8.1</td>
<td align="center">7.0</td>
<td align="center">7.5</td>
<td align="center">9.0</td>
<td align="center">6.3</td>
</tr>
<tr class="even">
<td align="center">20159160</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">7.5</td>
<td align="center">9.0</td>
<td align="center">5.7</td>
</tr>
<tr class="odd">
<td align="center">20159633</td>
<td align="center">9.0</td>
<td align="center">8.1</td>
<td align="center">8.0</td>
<td align="center">4.3</td>
<td align="center">8.0</td>
<td align="center">7.7</td>
</tr>
<tr class="even">
<td align="center">20159711</td>
<td align="center">9.3</td>
<td align="center">9.0</td>
<td align="center">10.0</td>
<td align="center">5.0</td>
<td align="center">5.0</td>
<td align="center">8.1</td>
</tr>
<tr class="odd">
<td align="center">20159781</td>
<td align="center">8.0</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">20159917</td>
<td align="center">9.0</td>
<td align="center">6.6</td>
<td align="center">5.4</td>
<td align="center">1.0</td>
<td align="center">6.0</td>
<td align="center">3.0</td>
</tr>
</tbody>
</table>
</div>
<div id="resultados-finais" class="section level2">
<h2>Resultados finais</h2>
<p>Na tabela abaixo estão as notas consideradas para o cálculo da média final. Das 6 sabatinas, foram consideradas apenas as 4 com maiores notas (<code>N1</code>, <code>N2</code>, <code>N3</code>, <code>N4</code>). A frequência (<code>F</code>) é o percentual de presença.</p>
<p>A média (<code>M</code>) foi calculada com estas 4 notas, e já <strong>arredondada para cima</strong> nos seguintes casos:</p>
<ul>
<li>Médias finais maiores ou iguais a 6,5 e menores do que 7,0 foram arredondadas para 7,0, SE a frequência do aluno foi maior ou igual a 75%.</li>
<li>Médias finais maiores ou iguais a 3,5 e menores do que 4,0 foram arredondadas para 4,0, SE a frequência do aluno foi maior ou igual a 75%.</li>
</ul>
<p><strong>Observação</strong>: a frequência só foi utilizada aqui para critério de arredondamento de nota. Mesmo que o aluno tenha frequência abaixo de 75%, é permitido fazer o exame.</p>
<p>A coluna de situação (<code>S</code>) indica se o aluno foi aprovado (<code>Ap</code>), ficou em exame (<code>Ex</code>), ou foi reprovado (<code>Re</code>).</p>
<pre class="r"><code>##----------------------------------------------------------------------
## Tabela com as notas finais

## Ordena pelas maiores notas
notas2 &lt;- apply(notas[, notas.col], 1, sort,
                decreasing = TRUE, na.last = TRUE)

## Numero de provas consideradas
np &lt;- 4

## Tabela com as np maiores notas
notas2 &lt;- t(notas2[1:np, ])

## Calcula a media
notas2 &lt;- cbind(notas2,
                apply(notas2, 1, function(x) sum(x, na.rm = TRUE)/np))

## Insere o GRR
notas2 &lt;- as.data.frame(cbind(notas$Matricula, notas2))
names(notas2) &lt;- c(&quot;Matricula&quot;, paste0(&quot;N&quot;, 1:np), &quot;Media&quot;)

## Insere a frequencia (Freq.rel2 de notas)
notas2$Freq.rel &lt;- ceiling(notas$Freq.rel2*100)

## Arredonda a media para duas casa decimais
notas2$Media &lt;- round(notas2$Media, 2)

## Regras para ser aprovado
## 1) Se 6.5 &lt;= MF &lt; 7.0 E Freq &gt;= 75 entao SOMA difer

## Cria nova coluna e condicoes
notas2$Media2 &lt;- notas2$Media
cond.nota1 &lt;- notas2$Media &gt;=6.5 &amp; notas2$Media &lt; 7
cond.nota2 &lt;- notas2$Freq.rel &gt;= 75

## Soma as diferencas
notas2$Media2[cond.nota1 &amp; cond.nota2] &lt;-
    notas2$Media2[cond.nota1 &amp; cond.nota2] +
    difer(notas2$Media2[cond.nota1 &amp; cond.nota2], 7)

## Regras para ir para exame
## 1) Se 3.5 &lt;= MF &lt; 4.0 E Freq &gt;= 75 entao SOMA difer

## Cria condicoes
cond.exam1 &lt;- notas2$Media &gt;=3.5 &amp; notas2$Media &lt; 4

## Soma as diferencas
notas2$Media2[cond.exam1 &amp; cond.nota2] &lt;-
    notas2$Media2[cond.exam1 &amp; cond.nota2] +
    difer(notas2$Media2[cond.exam1 &amp; cond.nota2], 4)

##----------------------------------------------------------------------
## BONUS: aqui tem uma aluna que acertou uma questao bonus e ficou com
## uma prova com nota &#39;12&#39;. Portanto, deveria distribuir essa nota entre
## as outras provas dela. Como as outras tambem eram quase 10, vou
## atribuir 10 para todas as provas dela.
## grr &lt;- 20154966
## notas2[notas2$Matricula == grr, ]
## Como ja esta com 10 nas 4 maiores nao precisa fazer isso.
##----------------------------------------------------------------------

##----------------------------------------------------------------------
## Tabela final
notas.fim &lt;- notas2[, 1:5]
notas.fim$M &lt;- notas2$Media2
notas.fim$F &lt;- notas2$Freq.rel</code></pre>
<pre class="r"><code>##----------------------------------------------------------------------
## Antes do exame (Ex)

## Cria a coluna Situacao
notas.fim$S &lt;- &quot;Ap&quot;
notas.fim$S[notas.fim$M &gt;= 4 &amp; notas.fim$M &lt; 7] &lt;- &quot;Ex&quot;
notas.fim$S[notas.fim$M &lt; 4] &lt;- &quot;Re&quot;

## Mostra tabela
## kable(notas.fim, align = &quot;c&quot;)</code></pre>
<!-- Número de alunos em cada situação: -->
<!-- Gráfico de barras com os percentuais por situação: -->
<p><strong>Após o exame</strong>: as notas dos exames estão na coluna <code>E</code>. A média final (<code>MF</code>) é a mesma para quem não fez exame, e é a média entre a média final (<code>M</code>) e a nota do exame (<code>E</code>) para quem fez exame. A média final arredondada (<code>MFA</code>) é a nota que será lançada no sistema. A coluna <code>SF</code> mostra a situação final dos alunos após o exame.</p>
<pre class="r"><code>##----------------------------------------------------------------------
## Após exame (Ex)

## Insere notas do exame
notas.fim$E &lt;- notas$Ex

## Calcula média final (MF), que é média da nota final com a nota do
## exame (apenas para os que ficaram de exame)
notas.fim$MF &lt;- notas.fim$M
notas.fim$MF[notas.fim$S == &quot;Ex&quot;] &lt;- (notas.fim$M[notas.fim$S == &quot;Ex&quot;] +
    notas.fim$E[notas.fim$S == &quot;Ex&quot;])/2
notas.fim$MF &lt;- round(notas.fim$MF, 2)

## Calcula a média final arredonadada (MFA), que é a média multiplicada por
## 10 e arredondada para cima (é como será lançada no sistema)
notas.fim$MFA &lt;- ceiling(notas.fim$MF*10)

## Cria a coluna Situacao final (SF), que indica a situação após exame
notas.fim$SF &lt;- &quot;Ap&quot;
notas.fim$SF[notas.fim$MFA &lt; 50] &lt;- &quot;Re&quot;

## Mostra tabela
kable(notas.fim, align = &quot;c&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="center">Matricula</th>
<th align="center">N1</th>
<th align="center">N2</th>
<th align="center">N3</th>
<th align="center">N4</th>
<th align="center">M</th>
<th align="center">F</th>
<th align="center">S</th>
<th align="center">E</th>
<th align="center">MF</th>
<th align="center">MFA</th>
<th align="center">SF</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">20124646</td>
<td align="center">8.5</td>
<td align="center">7.0</td>
<td align="center">6.0</td>
<td align="center">5.9</td>
<td align="center">7.00</td>
<td align="center">86</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.00</td>
<td align="center">70</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20124652</td>
<td align="center">7.0</td>
<td align="center">5.3</td>
<td align="center">4.0</td>
<td align="center">2.9</td>
<td align="center">4.80</td>
<td align="center">75</td>
<td align="center">Ex</td>
<td align="center">3.0</td>
<td align="center">3.90</td>
<td align="center">39</td>
<td align="center">Re</td>
</tr>
<tr class="odd">
<td align="center">20136720</td>
<td align="center">9.9</td>
<td align="center">9.8</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">9.55</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.55</td>
<td align="center">96</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20149073</td>
<td align="center">8.0</td>
<td align="center">8.0</td>
<td align="center">8.0</td>
<td align="center">7.5</td>
<td align="center">7.88</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.88</td>
<td align="center">79</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20149110</td>
<td align="center">8.1</td>
<td align="center">7.3</td>
<td align="center">7.0</td>
<td align="center">7.0</td>
<td align="center">7.35</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.35</td>
<td align="center">74</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20149145</td>
<td align="center">9.0</td>
<td align="center">7.5</td>
<td align="center">7.5</td>
<td align="center">5.5</td>
<td align="center">7.38</td>
<td align="center">89</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.38</td>
<td align="center">74</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20150149</td>
<td align="center">7.5</td>
<td align="center">6.7</td>
<td align="center">6.0</td>
<td align="center">4.5</td>
<td align="center">6.17</td>
<td align="center">93</td>
<td align="center">Ex</td>
<td align="center">5.0</td>
<td align="center">5.58</td>
<td align="center">56</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20150417</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">9.0</td>
<td align="center">9.75</td>
<td align="center">100</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.75</td>
<td align="center">98</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20150452</td>
<td align="center">9.0</td>
<td align="center">8.7</td>
<td align="center">5.6</td>
<td align="center">5.5</td>
<td align="center">7.20</td>
<td align="center">82</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.20</td>
<td align="center">72</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20150470</td>
<td align="center">8.5</td>
<td align="center">6.0</td>
<td align="center">6.0</td>
<td align="center">3.0</td>
<td align="center">5.88</td>
<td align="center">86</td>
<td align="center">Ex</td>
<td align="center">5.5</td>
<td align="center">5.69</td>
<td align="center">57</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20150836</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.00</td>
<td align="center">100</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">10.00</td>
<td align="center">100</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20150978</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">9.8</td>
<td align="center">9.90</td>
<td align="center">100</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.90</td>
<td align="center">99</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20151292</td>
<td align="center">9.5</td>
<td align="center">8.9</td>
<td align="center">7.0</td>
<td align="center">6.0</td>
<td align="center">7.85</td>
<td align="center">75</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.85</td>
<td align="center">79</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20151516</td>
<td align="center">10.0</td>
<td align="center">9.9</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">9.60</td>
<td align="center">82</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.60</td>
<td align="center">96</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20152147</td>
<td align="center">7.5</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
<td align="center">6.5</td>
<td align="center">7.00</td>
<td align="center">86</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.00</td>
<td align="center">70</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20152591</td>
<td align="center">10.0</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">8.4</td>
<td align="center">9.22</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.22</td>
<td align="center">93</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20152736</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">0.00</td>
<td align="center">39</td>
<td align="center">Re</td>
<td align="center">NA</td>
<td align="center">0.00</td>
<td align="center">0</td>
<td align="center">Re</td>
</tr>
<tr class="even">
<td align="center">20152967</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">0.00</td>
<td align="center">0</td>
<td align="center">Re</td>
<td align="center">NA</td>
<td align="center">0.00</td>
<td align="center">0</td>
<td align="center">Re</td>
</tr>
<tr class="odd">
<td align="center">20152988</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">8.5</td>
<td align="center">7.5</td>
<td align="center">8.95</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.95</td>
<td align="center">90</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20153016</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">8.5</td>
<td align="center">9.57</td>
<td align="center">82</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.57</td>
<td align="center">96</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20153599</td>
<td align="center">9.5</td>
<td align="center">8.1</td>
<td align="center">5.0</td>
<td align="center">4.8</td>
<td align="center">7.00</td>
<td align="center">79</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.00</td>
<td align="center">70</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20153646</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">7.3</td>
<td align="center">6.8</td>
<td align="center">8.47</td>
<td align="center">86</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.47</td>
<td align="center">85</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20154101</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">9.7</td>
<td align="center">9.5</td>
<td align="center">9.80</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.80</td>
<td align="center">98</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20154112</td>
<td align="center">8.5</td>
<td align="center">7.5</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
<td align="center">7.38</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.38</td>
<td align="center">74</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20154179</td>
<td align="center">9.9</td>
<td align="center">9.5</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">9.47</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.47</td>
<td align="center">95</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20154443</td>
<td align="center">10.0</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">9.38</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.38</td>
<td align="center">94</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20154966</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">10.00</td>
<td align="center">100</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">10.00</td>
<td align="center">100</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20155156</td>
<td align="center">9.1</td>
<td align="center">8.9</td>
<td align="center">6.0</td>
<td align="center">5.5</td>
<td align="center">7.38</td>
<td align="center">89</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.38</td>
<td align="center">74</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20155208</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">7.0</td>
<td align="center">6.5</td>
<td align="center">7.88</td>
<td align="center">68</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.88</td>
<td align="center">79</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20156753</td>
<td align="center">10.0</td>
<td align="center">9.8</td>
<td align="center">9.8</td>
<td align="center">8.5</td>
<td align="center">9.53</td>
<td align="center">75</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.53</td>
<td align="center">96</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20157092</td>
<td align="center">9.1</td>
<td align="center">9.1</td>
<td align="center">9.0</td>
<td align="center">7.0</td>
<td align="center">8.55</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.55</td>
<td align="center">86</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20157880</td>
<td align="center">9.8</td>
<td align="center">9.5</td>
<td align="center">8.2</td>
<td align="center">5.0</td>
<td align="center">8.12</td>
<td align="center">82</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.12</td>
<td align="center">82</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20158399</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">6.8</td>
<td align="center">4.5</td>
<td align="center">7.33</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.33</td>
<td align="center">74</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20159053</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">8.6</td>
<td align="center">5.5</td>
<td align="center">8.03</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.03</td>
<td align="center">81</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20159109</td>
<td align="center">9.5</td>
<td align="center">9.0</td>
<td align="center">8.1</td>
<td align="center">7.5</td>
<td align="center">8.53</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.53</td>
<td align="center">86</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20159160</td>
<td align="center">10.0</td>
<td align="center">10.0</td>
<td align="center">9.0</td>
<td align="center">9.0</td>
<td align="center">9.50</td>
<td align="center">96</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.50</td>
<td align="center">95</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20159633</td>
<td align="center">9.0</td>
<td align="center">8.1</td>
<td align="center">8.0</td>
<td align="center">8.0</td>
<td align="center">8.28</td>
<td align="center">100</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">8.28</td>
<td align="center">83</td>
<td align="center">Ap</td>
</tr>
<tr class="even">
<td align="center">20159711</td>
<td align="center">10.0</td>
<td align="center">9.3</td>
<td align="center">9.0</td>
<td align="center">8.1</td>
<td align="center">9.10</td>
<td align="center">93</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">9.10</td>
<td align="center">91</td>
<td align="center">Ap</td>
</tr>
<tr class="odd">
<td align="center">20159781</td>
<td align="center">8.0</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">2.00</td>
<td align="center">46</td>
<td align="center">Re</td>
<td align="center">NA</td>
<td align="center">2.00</td>
<td align="center">20</td>
<td align="center">Re</td>
</tr>
<tr class="even">
<td align="center">20159917</td>
<td align="center">9.0</td>
<td align="center">6.6</td>
<td align="center">6.0</td>
<td align="center">5.4</td>
<td align="center">7.00</td>
<td align="center">75</td>
<td align="center">Ap</td>
<td align="center">NA</td>
<td align="center">7.00</td>
<td align="center">70</td>
<td align="center">Ap</td>
</tr>
</tbody>
</table>
<p>Número de alunos em cada situação:</p>
<ul>
<li>Antes do exame</li>
</ul>
<pre class="r"><code>addmargins(table(notas.fim$S))</code></pre>
<pre><code>
 Ap  Ex  Re Sum 
 34   3   3  40 </code></pre>
<ul>
<li>Após o exame</li>
</ul>
<pre class="r"><code>addmargins(table(notas.fim$SF))</code></pre>
<pre><code>
 Ap  Re Sum 
 36   4  40 </code></pre>
<p>Gráfico de barras com os percentuais por situação:</p>
<pre class="r"><code>par(mfrow = c(1, 2))
barplot(prop.table(table(notas.fim$S))*100,
        xlab = &quot;Situação&quot;, ylab = &quot;Frequência (%)&quot;,
        main = &quot;Antes do exame&quot;)
barplot(prop.table(table(notas.fim$SF))*100,
        xlab = &quot;Situação&quot;, ylab = &quot;Frequência (%)&quot;,
        main = &quot;Após o exame&quot;)</code></pre>
<p><img src="figures/unnamed-chunk-15-1.png" width="800" style="display: block; margin: auto;" /></p>
<pre class="r"><code>par(mfrow = c(1, 1))</code></pre>
</div>

<center>
  <hr width="100%" size="3px">
  <p> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.pt_BR">
      <img src="img/CC_by-nc-sa_80x15.png" alt="Licença Creative Commons 4.0"> </a>
  </p>
  <p> <font size="2"> Este conteúdo
      está disponível por meio da Licença Creative Commons 4.0 </font>
  </p>
</center>



</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
